{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/javierlopez/Desktop/Projects/hiMate/components/CustomListItem.js\";\n\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Image, Text } from \"react-native-elements\";\nimport { db } from \"../firebase\";\n\nvar CustomListItem = function CustomListItem(_ref) {\n  var _lastMessage$, _lastMessage$2;\n\n  var id = _ref.id,\n      chatName = _ref.chatName,\n      chatDescription = _ref.chatDescription,\n      enterChat = _ref.enterChat;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      lastMessage = _useState2[0],\n      setLastMessage = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribe = db.collection(\"chats\").doc(id).collection(\"messages\").orderBy(\"timestamp\", \"desc\").onSnapshot(function (snapshot) {\n      return setLastMessage(snapshot.docs.map(function (doc) {\n        return doc.data();\n      }));\n    });\n    return unsubscribe;\n  });\n  var messageInfo = (lastMessage == null ? void 0 : (_lastMessage$ = lastMessage[0]) == null ? void 0 : _lastMessage$.displayName) + \": \" + (lastMessage == null ? void 0 : (_lastMessage$2 = lastMessage[0]) == null ? void 0 : _lastMessage$2.message);\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 5\n    }\n  }, React.createElement(TouchableOpacity, {\n    activeOpacity: 0.5,\n    style: styles.cardTouchable,\n    key: id,\n    onPress: function onPress() {\n      return enterChat(id, chatName);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.card,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    style: styles.image,\n    source: {\n      uri: 'https://miro.medium.com/max/1178/1*rishAJIUgRCz_VzJV-vZuA.png'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 11\n    }\n  }), React.createElement(Text, {\n    h5: true,\n    style: styles.title,\n    numberOfLines: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }, \" \", chatName, \" \"), React.createElement(Text, {\n    h6: true,\n    style: styles.description,\n    numberOfLines: 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  }, \" \", chatDescription, \" \"), React.createElement(Text, {\n    h6: true,\n    style: styles.enter,\n    numberOfLines: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  }, \"Chat now\"))));\n};\n\nexport default CustomListItem;\nvar styles = StyleSheet.create({\n  cardTouchable: {\n    margin: 2\n  },\n  card: {\n    width: 190,\n    height: 190,\n    borderRadius: 100,\n    borderWidth: 4,\n    borderColor: \"#D50000\",\n    margin: 5,\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.5,\n    shadowRadius: 5,\n    backgroundColor: \"#D50000\",\n    color: \"white\"\n  },\n  image: {\n    textAlign: \"center\",\n    width: \"100%\",\n    height: 100,\n    borderTopLeftRadius: 200,\n    borderTopRightRadius: 200\n  },\n  title: {\n    textAlign: \"center\",\n    textTransform: \"uppercase\",\n    fontWeight: \"900\",\n    color: \"white\",\n    padding: 5\n  },\n  description: {\n    textAlign: \"center\",\n    color: \"white\",\n    marginRight: 20,\n    marginLeft: 20\n  },\n  enter: {\n    textAlign: \"center\",\n    color: \"white\",\n    paddingTop: 5\n  }\n});","map":{"version":3,"sources":["/Users/javierlopez/Desktop/Projects/hiMate/components/CustomListItem.js"],"names":["React","useEffect","useState","Image","Text","db","CustomListItem","id","chatName","chatDescription","enterChat","lastMessage","setLastMessage","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","messageInfo","displayName","message","styles","cardTouchable","card","image","uri","title","description","enter","StyleSheet","create","margin","width","height","borderRadius","borderWidth","borderColor","shadowOffset","shadowOpacity","shadowRadius","backgroundColor","color","textAlign","borderTopLeftRadius","borderTopRightRadius","textTransform","fontWeight","padding","marginRight","marginLeft","paddingTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { StyleSheet, View, TouchableOpacity } from 'react-native'\nimport { Image, Text } from \"react-native-elements\"\nimport { db } from \"../firebase\"\n\nconst CustomListItem = ({ id, chatName, chatDescription, enterChat }) => {\n  const [lastMessage, setLastMessage] = useState([])\n  useEffect(() => {\n    const unsubscribe = db\n      .collection(\"chats\")\n      .doc(id)\n      .collection(\"messages\")\n      .orderBy(\"timestamp\", \"desc\")\n      .onSnapshot((snapshot) =>\n        setLastMessage(snapshot.docs.map((doc) => doc.data()))\n      );\n    return unsubscribe\n  })\n\n  const messageInfo = `${lastMessage?.[0]?.displayName}: ${lastMessage?.[0]?.message}`\n  return (\n    <View>\n      <TouchableOpacity activeOpacity={0.5} style={styles.cardTouchable} key={id} onPress={() => enterChat(id, chatName)} >\n        <View style={styles.card}>\n          <Image style={styles.image} source={{ uri: 'https://miro.medium.com/max/1178/1*rishAJIUgRCz_VzJV-vZuA.png' }} />\n          <Text h5 style={styles.title} numberOfLines={1}> {chatName} </Text>\n          <Text h6 style={styles.description} numberOfLines={2}> {chatDescription} </Text>\n          <Text h6 style={styles.enter} numberOfLines={1}>Chat now</Text>\n        </View>\n      </TouchableOpacity>\n    </View>\n  )\n}\nexport default CustomListItem\n\nconst styles = StyleSheet.create({\n  cardTouchable: {\n    margin: 2\n  },\n  card: {\n    width: 190,\n    height: 190,\n    borderRadius: 100,\n    borderWidth: 4,\n    borderColor: \"#D50000\",\n    margin: 5,\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.5,\n    shadowRadius: 5,\n    backgroundColor: \"#D50000\",\n    color: \"white\"\n  },\n  image: {\n    textAlign: \"center\",\n    width: \"100%\",\n    height: 100,\n    borderTopLeftRadius: 200,\n    borderTopRightRadius: 200,\n  },\n  title: {\n    textAlign: \"center\",\n    textTransform: \"uppercase\",\n    fontWeight: \"900\",\n    color: \"white\",\n    padding: 5\n  },\n  description: {\n    textAlign: \"center\",\n    color: \"white\",\n    marginRight: 20,\n    marginLeft: 20\n  },\n  enter: {\n    textAlign: \"center\",\n    color: \"white\",\n    paddingTop: 5,\n  }\n})\n"]},"metadata":{},"sourceType":"module"}